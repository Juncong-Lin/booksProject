<!DOCTYPE html>
<html>
  <head>
    <title>My Profile - Juncongmall.com</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no"
    />

    <!-- Load fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- CSS files -->
    <link rel="stylesheet" href="styles/shared/general.css" />
    <link rel="stylesheet" href="styles/shared/qili-header.css" />
    <link rel="stylesheet" href="styles/shared/sub-header.css" />
    <link rel="stylesheet" href="styles/pages/profile.css" />
    <link rel="stylesheet" href="styles/shared/footer.css" />

    <!-- Feather icons -->
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
  </head>

  <body class="profile-page">
    <!-- Header -->
    <div id="shared-header-placeholder"></div>
    <div id="shared-subheader-placeholder"></div>

    <!-- Main content -->
    <div class="main">
      <div class="profile-container">
        <div class="profile-header">
          <div class="profile-banner">
            <div class="profile-avatar-section">
              <div class="profile-avatar" id="profile-avatar">
                <span id="avatar-initials">U</span>
              </div>
              <div class="profile-info">
                <h1 id="profile-name">Loading...</h1>
                <p id="profile-email">Loading...</p>
                <div class="profile-stats">
                  <div class="stat">
                    <span class="stat-value" id="member-since">-</span>
                    <span class="stat-label">Member Since</span>
                  </div>
                  <div class="stat">
                    <span class="stat-value" id="orders-count">0</span>
                    <span class="stat-label">Orders</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="profile-content">
          <div class="profile-sidebar">
            <nav class="profile-nav">
              <a
                href="#personal-info"
                class="nav-item active"
                data-section="personal-info"
              >
                <i data-feather="user"></i>
                Personal Information
              </a>
              <a href="#security" class="nav-item" data-section="security">
                <i data-feather="shield"></i>
                Security
              </a>
              <a href="#address" class="nav-item" data-section="address">
                <i data-feather="map-pin"></i>
                Address
              </a>
              <a
                href="#preferences"
                class="nav-item"
                data-section="preferences"
              >
                <i data-feather="settings"></i>
                Preferences
              </a>
              <a href="#orders" class="nav-item" data-section="orders">
                <i data-feather="package"></i>
                Order History
              </a>
            </nav>
          </div>

          <div class="profile-main">
            <!-- Personal Information Section -->
            <section id="personal-info-section" class="profile-section active">
              <div class="section-header">
                <h2>Personal Information</h2>
                <p>Manage your personal details and contact information</p>
              </div>

              <form id="personal-info-form" class="profile-form">
                <div class="form-row">
                  <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" name="name" required />
                    <span class="error-message" id="name-error"></span>
                  </div>

                  <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" required />
                    <span class="error-message" id="email-error"></span>
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input
                      type="tel"
                      id="phone"
                      name="phone"
                      placeholder="Optional"
                    />
                    <span class="error-message" id="phone-error"></span>
                  </div>
                </div>

                <div class="form-actions">
                  <button
                    type="submit"
                    class="btn primary"
                    id="save-personal-btn"
                  >
                    <span class="btn-text">Save Changes</span>
                    <div class="btn-loading" style="display: none">
                      <div class="spinner"></div>
                      Saving...
                    </div>
                  </button>
                </div>
              </form>
            </section>

            <!-- Security Section -->
            <section id="security-section" class="profile-section">
              <div class="section-header">
                <h2>Security</h2>
                <p>Keep your account secure by managing your password</p>
              </div>

              <form id="password-form" class="profile-form">
                <div class="form-group">
                  <label for="current-password">Current Password</label>
                  <div class="input-wrapper">
                    <input
                      type="password"
                      id="current-password"
                      name="currentPassword"
                      required
                    />
                    <button
                      type="button"
                      class="toggle-password"
                      data-target="current-password"
                    >
                      <i data-feather="eye"></i>
                    </button>
                  </div>
                  <span
                    class="error-message"
                    id="current-password-error"
                  ></span>
                </div>

                <div class="form-group">
                  <label for="new-password">New Password</label>
                  <div class="input-wrapper">
                    <input
                      type="password"
                      id="new-password"
                      name="newPassword"
                      required
                    />
                    <button
                      type="button"
                      class="toggle-password"
                      data-target="new-password"
                    >
                      <i data-feather="eye"></i>
                    </button>
                  </div>
                  <div class="password-strength" id="password-strength">
                    <div class="strength-bar">
                      <div class="strength-fill" id="strength-fill"></div>
                    </div>
                    <span class="strength-text" id="strength-text"
                      >Password strength</span
                    >
                  </div>
                  <span class="error-message" id="new-password-error"></span>
                </div>

                <div class="form-group">
                  <label for="confirm-new-password">Confirm New Password</label>
                  <div class="input-wrapper">
                    <input
                      type="password"
                      id="confirm-new-password"
                      name="confirmNewPassword"
                      required
                    />
                    <button
                      type="button"
                      class="toggle-password"
                      data-target="confirm-new-password"
                    >
                      <i data-feather="eye"></i>
                    </button>
                  </div>
                  <span
                    class="error-message"
                    id="confirm-new-password-error"
                  ></span>
                </div>

                <div class="form-actions">
                  <button
                    type="submit"
                    class="btn primary"
                    id="change-password-btn"
                  >
                    <span class="btn-text">Change Password</span>
                    <div class="btn-loading" style="display: none">
                      <div class="spinner"></div>
                      Changing...
                    </div>
                  </button>
                </div>
              </form>
            </section>

            <!-- Address Section -->
            <section id="address-section" class="profile-section">
              <div class="section-header">
                <h2>Address Information</h2>
                <p>Manage your shipping and billing address</p>
              </div>

              <form id="address-form" class="profile-form">
                <div class="form-group">
                  <label for="street">Street Address</label>
                  <input
                    type="text"
                    id="street"
                    name="street"
                    placeholder="Optional"
                  />
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label for="city">City</label>
                    <input
                      type="text"
                      id="city"
                      name="city"
                      placeholder="Optional"
                    />
                  </div>

                  <div class="form-group">
                    <label for="state">State/Province</label>
                    <input
                      type="text"
                      id="state"
                      name="state"
                      placeholder="Optional"
                    />
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label for="zipCode">ZIP/Postal Code</label>
                    <input
                      type="text"
                      id="zipCode"
                      name="zipCode"
                      placeholder="Optional"
                    />
                  </div>

                  <div class="form-group">
                    <label for="country">Country</label>
                    <input
                      type="text"
                      id="country"
                      name="country"
                      placeholder="Optional"
                    />
                  </div>
                </div>

                <div class="form-actions">
                  <button
                    type="submit"
                    class="btn primary"
                    id="save-address-btn"
                  >
                    <span class="btn-text">Save Address</span>
                    <div class="btn-loading" style="display: none">
                      <div class="spinner"></div>
                      Saving...
                    </div>
                  </button>
                </div>
              </form>
            </section>

            <!-- Preferences Section -->
            <section id="preferences-section" class="profile-section">
              <div class="section-header">
                <h2>Preferences</h2>
                <p>Customize your account settings and notifications</p>
              </div>

              <form id="preferences-form" class="profile-form">
                <div class="preference-group">
                  <h3>Notifications</h3>
                  <div class="checkbox-group">
                    <label class="checkbox-wrapper">
                      <input
                        type="checkbox"
                        id="email-notifications"
                        name="emailNotifications"
                      />
                      <span class="checkmark"></span>
                      Email notifications
                    </label>

                    <label class="checkbox-wrapper">
                      <input
                        type="checkbox"
                        id="order-updates"
                        name="orderUpdates"
                      />
                      <span class="checkmark"></span>
                      Order status updates
                    </label>

                    <label class="checkbox-wrapper">
                      <input
                        type="checkbox"
                        id="newsletters"
                        name="newsletters"
                      />
                      <span class="checkmark"></span>
                      Newsletter and promotions
                    </label>
                  </div>
                </div>

                <div class="preference-group">
                  <h3>Display</h3>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="language">Language</label>
                      <select id="language" name="language">
                        <option value="en">English</option>
                        <option value="es">Español</option>
                        <option value="fr">Français</option>
                      </select>
                    </div>

                    <div class="form-group">
                      <label for="currency">Currency</label>
                      <select id="currency" name="currency">
                        <option value="USD">USD ($)</option>
                        <option value="EUR">EUR (€)</option>
                        <option value="GBP">GBP (£)</option>
                      </select>
                    </div>
                  </div>
                </div>

                <div class="form-actions">
                  <button
                    type="submit"
                    class="btn primary"
                    id="save-preferences-btn"
                  >
                    <span class="btn-text">Save Preferences</span>
                    <div class="btn-loading" style="display: none">
                      <div class="spinner"></div>
                      Saving...
                    </div>
                  </button>
                </div>
              </form>
            </section>

            <!-- Orders Section -->
            <section id="orders-section" class="profile-section">
              <div class="section-header">
                <h2>Order History</h2>
                <p>View and track your recent orders</p>
              </div>

              <div class="orders-list" id="orders-list">
                <div class="empty-state">
                  <i data-feather="package"></i>
                  <h3>No orders yet</h3>
                  <p>When you place your first order, it will appear here.</p>
                  <a href="index.html" class="btn primary">Start Shopping</a>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>

      <!-- Success/Error messages -->
      <div
        id="profile-message"
        class="profile-message"
        style="display: none"
      ></div>
    </div>

    <!-- Footer -->
    <div id="shared-footer-placeholder"></div>

    <!-- Scripts -->
    <script src="scripts/shared/header.js"></script>
    <script src="scripts/shared/sub-header.js"></script>
    <script src="scripts/shared/footer.js"></script>
    <script src="scripts/auth/auth.js"></script>
    <script src="scripts/profile/profile.js"></script>
  </body>
</html>
