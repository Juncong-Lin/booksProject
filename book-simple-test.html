<!DOCTYPE html>
<html>
<head>
    <title>Simple Book Test</title>
</head>
<body>
    <h1>Book Test</h1>
    <div id="output"></div>

    <script type="module">
        try {
            console.log('Starting book test...');
            
            // Import the books data
            const { booksProducts } = await import('./data/books.js');
            
            console.log('Books imported successfully:', booksProducts);
            console.log('Categories:', Object.keys(booksProducts));
            
            // Find the specific book
            const bookId = 'A-Light-in-the-Attic';
            let foundBook = null;
            
            for (const category in booksProducts) {
                const book = booksProducts[category].find(item => item.id === bookId);
                if (book) {
                    foundBook = book;
                    console.log('Found book in category:', category, book);
                    break;
                }
            }
            
            const output = document.getElementById('output');
            if (foundBook) {
                output.innerHTML = `
                    <h2>Found: ${foundBook.name}</h2>
                    <p>ID: ${foundBook.id}</p>
                    <p>Rating: ${foundBook.star} stars</p>
                    <p>Price: $${(foundBook.lower_price / 100).toFixed(2)}</p>
                    <img src="${foundBook.image}" alt="${foundBook.name}" style="max-width: 200px;">
                `;
            } else {
                output.innerHTML = '<p>Book not found</p>';
            }
            
        } catch (error) {
            console.error('Error:', error);
            document.getElementById('output').innerHTML = `<p>Error: ${error.message}</p>`;
        }
    </script>
</body>
</html>
